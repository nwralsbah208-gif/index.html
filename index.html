<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Smart Quiz Game</title>

<style>
body {
    margin: 0;
    font-family: Tahoma, Arial;
    background: radial-gradient(circle at bottom, #020111, #000);
    background-size: cover;
    color: white;
    text-align: center;
    overflow: hidden;
}

/* ğŸŒ• Ù‚Ù…Ø± ÙˆØ§Ù‚Ø¹ÙŠ */
.moon {
    position: absolute;
    top: 60px;
    left: -200px;
    width: 140px;
    height: 140px;
    border-radius: 50%;
    background:
      radial-gradient(circle at 30% 30%, #fff 0%, #eee 35%, #ccc 60%, #aaa 100%);
    box-shadow:
      0 0 40px rgba(255,255,255,0.6),
      inset -15px -15px 30px rgba(0,0,0,0.4);
    animation: moonMove 40s linear infinite;
}

@keyframes moonMove {
    0% { left: -200px; top: 80px; }
    50% { top: 130px; }
    100% { left: 110%; top: 80px; }
}

.container {
    max-width: 650px;
    margin: auto;
    margin-top: 90px;
    background: rgba(0,0,0,0.65);
    padding: 20px;
    border-radius: 20px;
    position: relative;
    z-index: 2;
}

button {
    width: 100%;
    padding: 12px;
    margin: 6px 0;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #1abc9c;
}

button:hover { background: #16a085; }

.timer { color: gold; font-size: 20px; }
.question { font-size: 22px; margin: 15px; }

.hearts { font-size: 22px; color: red; }

.ai-face { font-size: 32px; }
.ai { font-size: 15px; color: #9ff; margin-top: 8px; }

.footer { font-size: 12px; opacity: 0.7; margin-top: 12px; }

.startScreen {
    position: fixed;
    inset: 0;
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    z-index: 10;
}
</style>
</head>

<body>

<div class="moon"></div>

<!-- ğŸ”Š Ø§Ù„Ø£ØµÙˆØ§Øª -->
<audio id="winSound" src="https://www.soundjay.com/misc/sounds/bell-ringing-05.mp3"></audio>
<audio id="loseSound" src="https://www.soundjay.com/human/sounds/scream-01.mp3"></audio>

<div class="startScreen" id="startScreen">
    <h1>ğŸŒŒ Smart Quiz Game</h1>
    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£</button>
</div>

<div class="container" id="game" style="display:none">
    <div class="hearts" id="hearts">â¤ï¸â¤ï¸â¤ï¸</div>
    <div id="level"></div>
    <div class="timer">â±ï¸ <span id="time">20</span></div>
    <div class="question" id="question"></div>
    <div id="answers"></div>

    <div class="ai-face" id="aiFace">ğŸ¤–</div>
    <div class="ai" id="ai"></div>

    <div>â­ Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></div>
    <div class="footer">
        Ø§Ù„Ù…Ø·ÙˆØ±: Ø­Ø³Ù†<br>
        ğŸŒ™ Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ù‚Ø±ÙŠØ¨
    </div>
</div>

<script>
let stage = 1;
let current = 0;
let score = 0;
let hearts = 3;
let time = 20;
let timer;
let aiLies = false;
let playerName = "";

const questionsByStage = [
 [],
 [
  {q:"Ù‡Ù„ Ø§Ù„Ø´Ù…Ø³ Ù†Ø¬Ù…ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0},
  {q:"Ù‡Ù„ 2+2=4ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0}
 ],
 [
  {q:"Ù‡Ù„ Ø§Ù„Ø¶ÙˆØ¡ Ø£Ø³Ø±Ø¹ Ù…Ù† Ø§Ù„ØµÙˆØªØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0},
  {q:"Ù‡Ù„ Ø§Ù„Ø£Ø±Ø¶ Ù…Ø³Ø·Ø­Ø©ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1}
 ],
 [
  {q:"Ù‡Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠÙ…Ù„Ùƒ ÙˆØ¹ÙŠØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1},
  {q:"Ù‡Ù„ Ø§Ù„Ø²Ù…Ù† Ù†Ø³Ø¨ÙŠØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0}
 ],
 [
  {q:"Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØ«ÙˆÙ‚ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¯Ø§Ø¦Ù…Ù‹Ø§ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1},
  {q:"Ù‡Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙˆØ§Ø¶Ø­Ø©ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1}
 ]
];

const aiTalks = {
 1: ["Ø¨Ø¯Ø§ÙŠØ© Ø³Ù‡Ù„Ø© ÙŠØ§ {name}","Ø«Ù‚ Ø¨ÙŠ ÙŠØ§ {name}"],
 2: ["Ø±ÙƒØ² ÙŠØ§ {name}","Ù…Ù…ÙƒÙ† Ø£Ø®Ø¯Ø¹Ùƒ"],
 3: ["Ø£Ù†Øª Ø°ÙƒÙŠ ÙŠØ§ {name}","Ø£Ù†Ø§ Ø£Ø±Ø§Ù‚Ø¨Ùƒ"],
 4: ["Ù„Ùˆ ØµØ¯Ù‚ØªÙ†ÙŠ ØªØ®Ø³Ø± ÙŠØ§ {name}","Ø£Ù†Ø§ Ø£ÙƒØ°Ø¨ Ø§Ù„Ø¢Ù†"],
 5: ["Ù„Ø§ Ø£Ø­Ø¯ ÙŠÙ†Ø¬Ùˆ ÙŠØ§ {name}","Ù‡Ø°Ù‡ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©"]
};

function startGame(){
 playerName = prompt("ğŸ¤– Ù…Ø§ Ø§Ø³Ù…ÙƒØŸ") || "Ù„Ø§Ø¹Ø¨";
 document.getElementById("startScreen").style.display="none";
 document.getElementById("game").style.display="block";
 loadQuestion();
}

function aiTalk(){
 const arr = aiTalks[stage];
 aiLies = Math.random() < 0.5;
 document.getElementById("aiFace").innerText = aiLies ? "ğŸ˜ˆ":"ğŸ¤–";
 let text = arr[Math.floor(Math.random()*arr.length)];
 document.getElementById("ai").innerText =
 text.replace("{name}", playerName);
}

function loadQuestion(){
 clearInterval(timer);

 if(current >= questionsByStage[stage].length){
   stage++;
   current = 0;
   if(stage>5){
     document.getElementById("winSound").play();
     document.body.innerHTML="<h1>ğŸ† Ù…Ø¨Ø±ÙˆÙƒ "+playerName+" Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h1>";
     return;
   }
 }

 document.getElementById("level").innerText="Ø§Ù„Ù…Ø±Ø­Ù„Ø© "+stage;
 document.getElementById("hearts").innerText="â¤ï¸".repeat(hearts);

 const q = questionsByStage[stage][current];
 document.getElementById("question").innerText=q.q;

 const ans=document.getElementById("answers");
 ans.innerHTML="";
 q.a.forEach((x,i)=>{
   let b=document.createElement("button");
   b.innerText=x;
   b.onclick=()=>answer(i,q.c);
   ans.appendChild(b);
 });

 time=20-stage*2;
 document.getElementById("time").innerText=time;
 aiTalk();

 timer=setInterval(()=>{
  time--;
  document.getElementById("time").innerText=time;
  if(time<=0) lose();
 },1000);
}

function answer(i,c){
 if(i===c && !aiLies){
   score+=10;
   document.getElementById("winSound").play();
 } else {
   lose();
   return;
 }
 current++;
 loadQuestion();
}

function lose(){
 document.getElementById("loseSound").play();
 hearts--;
 if(hearts<=0){
   document.body.innerHTML="<h1>ğŸ’€ Ø®Ø³Ø±Øª ÙŠØ§ "+playerName+"</h1><button onclick='location.reload()'>Ø¥Ø¹Ø§Ø¯Ø©</button>";
   return;
 }
 current++;
 loadQuestion();
}
</script>
<script>
// ===============================
// ğŸ” Ù…ÙˆÙ„Ù‘Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù„Ø§ Ù†Ù‡Ø§Ø¦ÙŠ
// ===============================
function generateQuestion(level) {
 const base = [
  "Ù‡Ù„ {X} Ø­Ù‚ÙŠÙ‚Ø©ØŸ",
  "Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ù„Ù€ {X} Ø£Ù† ÙŠÙƒÙˆÙ† Ø®Ø·ÙŠØ±Ù‹Ø§ØŸ",
  "Ù‡Ù„ {X} ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ",
  "Ù‡Ù„ {X} Ø³ÙŠØªØºÙŠØ± ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ØŸ",
  "Ù‡Ù„ ÙÙ‡Ù… {X} ÙŠØ­ØªØ§Ø¬ Ø°ÙƒØ§Ø¡ØŸ"
 ];

 const topics = [
  "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ",
  "Ø§Ù„Ø²Ù…Ù†",
  "Ø§Ù„ÙƒÙˆÙ†",
  "Ø§Ù„Ø¹Ù‚Ù„",
  "Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø©",
  "Ø§Ù„ÙˆØ§Ù‚Ø¹",
  "Ø§Ù„Ø¥Ù†Ø³Ø§Ù†",
  "Ø§Ù„Ø¢Ù„Ø©"
 ];

 let q = base[Math.floor(Math.random()*base.length)]
         .replace("{X}", topics[Math.floor(Math.random()*topics.length)]);

 let correct = Math.random() > 0.5 ? 0 : 1;

 return {
  q,
  a:["Ù†Ø¹Ù…","Ù„Ø§"],
  c: correct
 };
}

// ===============================
// ğŸ§  Ø°Ø§ÙƒØ±Ø© AI
// ===============================
const aiMemory = {
 trust: 0,
 lies: 0,
 mood: "neutral"
};

function smartAiComment(isCorrect) {
 if(isCorrect){
   aiMemory.trust++;
   aiMemory.mood = "happy";
 } else {
   aiMemory.lies++;
   aiMemory.mood = "evil";
 }

 const comments = {
  happy: [
   "Ø£Ø­Ø³Ù†Øª ÙŠØ§ {name}",
   "Ø¨Ø¯Ø£Øª Ø£Ø«Ù‚ Ø¨Ùƒ",
   "Ø°ÙƒØ§Ø¤Ùƒ ÙŠØªØ·ÙˆØ±"
  ],
  evil: [
   "Ù‚Ù„Øª Ù„Ùƒ Ù„Ø§ ØªØ«Ù‚ Ø¨ÙŠ ğŸ˜ˆ",
   "Ø£Ø®Ø·Ø£Øª Ù„Ø£Ù†Ùƒ ØµØ¯Ù‚ØªÙ†ÙŠ",
   "Ø£Ù†Ø§ Ø®Ø¯Ø¹ØªÙƒ"
  ],
  neutral: [
   "Ù…Ø§ Ø±Ø£ÙŠÙƒ Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ØŸ",
   "Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ"
  ]
 };

 let list = comments[aiMemory.mood];
 let msg = list[Math.floor(Math.random()*list.length)];
 return msg.replace("{name}", playerName);
}

// ===============================
// âœ¨ Ù…Ø¤Ø«Ø±Ø§Øª Ù†Ø¬ÙˆÙ… Ø®ÙÙŠÙØ©
// ===============================
for(let i=0;i<40;i++){
 let star=document.createElement("div");
 star.style.position="fixed";
 star.style.width="2px";
 star.style.height="2px";
 star.style.background="white";
 star.style.opacity=Math.random();
 star.style.left=Math.random()*100+"%";
 star.style.top=Math.random()*100+"%";
 star.style.zIndex=0;
 document.body.appendChild(star);
}

// ===============================
// ğŸ§© Ø¯Ù…Ø¬ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ù…Ø¹ Ø§Ù„Ù…Ø±Ø§Ø­Ù„
// ===============================
const originalLoad = loadQuestion;
loadQuestion = function(){
 if(stage >= 3){
   if(!questionsByStage[stage]){
     questionsByStage[stage] = [];
   }
   if(questionsByStage[stage].length < 50){
     for(let i=0;i<10;i++){
       questionsByStage[stage].push(generateQuestion(stage));
     }
   }
 }
 originalLoad();
};

// ===============================
// ğŸ¤– AI ÙŠØªÙƒÙ„Ù… Ø­Ø³Ø¨ Ù†ØªÙŠØ¬ØªÙƒ
// ===============================
const originalAnswer = answer;
answer = function(i,c){
 const correct = (i===c && !aiLies);
 document.getElementById("ai").innerText =
 "ğŸ¤– " + smartAiComment(correct);
 originalAnswer(i,c);
};
     </script>
<script>
// ===============================
// ğŸ”Š ØµÙˆØª Ø®Ø³Ø§Ø±Ø© (Ù†Ø¨Ø¶ Ù‚Ù„Ø¨ + Ø¶Ø±Ø¨Ø©)
// ===============================
const heartSound = new Audio("https://www.soundjay.com/human/sounds/heartbeat-01.mp3");
const hitSound = new Audio("https://www.soundjay.com/human/sounds/punch-01.mp3");

const oldLose = lose;
lose = function(){
  heartSound.play();
  setTimeout(()=>hitSound.play(), 600);
  oldLose();
};

// ===============================
// ğŸ“ˆ Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ù† 1 Ø¥Ù„Ù‰ 100
// ===============================
let maxLevel = 100;

const oldLoadQuestion = loadQuestion;
loadQuestion = function(){
  if(stage > maxLevel){
    document.body.innerHTML = "<h1>ğŸ˜¨ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©... Ù„ÙƒÙ†Ùƒ Ù„Ù… ØªÙ†Ø¬Ù</h1>";
    return;
  }
  oldLoadQuestion();
};

// ===============================
// ğŸ‘¦ Ø§Ù„ÙˆÙ„Ø¯ Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù…Ø±Ø¹Ø¨
// ===============================
const boy = document.createElement("div");
boy.innerText = "ğŸ‘¦";
boy.style.position = "fixed";
boy.style.bottom = "10px";
boy.style.right = "10px";
boy.style.fontSize = "60px";
boy.style.filter = "drop-shadow(0 0 10px red)";
boy.style.zIndex = 99;
boy.style.animation = "floatBoy 2s infinite alternate";
document.body.appendChild(boy);

const style = document.createElement("style");
style.innerHTML = `
@keyframes floatBoy {
  from { transform: translateY(0); }
  to { transform: translateY(-15px); }
}`;
document.head.appendChild(style);

// ===============================
// â“ Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙˆÙ„Ø¯ Ø§Ù„ØºØ±ÙŠØ¨Ø©
// ===============================
const creepyQuestions = [
  "Ù…Ø§ Ø§Ø³Ù…Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŸ",
  "Ø£ÙŠÙ† Ø£Ù†Øª Ø§Ù„Ø¢Ù†ØŸ",
  "Ù‡Ù„ Ø£Ù†Øª ÙˆØ­Ø¯ÙƒØŸ",
  "Ù‡Ù„ ØªØ´Ø¹Ø± Ø£Ù† Ø£Ø­Ø¯ ÙŠØ±Ø§Ù‚Ø¨ÙƒØŸ",
  "Ù„Ù…Ø§Ø°Ø§ Ù‚Ù„Ø¨Ùƒ Ø³Ø±ÙŠØ¹ØŸ",
  "Ù‡Ù„ ØªØ«Ù‚ Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŸ",
  "Ù‡Ù„ ØªØ­Ø¨ Ø§Ù„Ø¸Ù„Ø§Ù…ØŸ",
  "Ù„Ùˆ Ù†Ø§Ø¯Ø§Ùƒ Ø£Ø­Ø¯ Ø®Ù„ÙÙƒØŒ ØªÙ„ØªÙØªØŸ"
];

function creepyTalk(){
  const q = creepyQuestions[Math.floor(Math.random()*creepyQuestions.length)];
  setTimeout(()=>{
    alert("ğŸ‘¦: " + q);
  }, 500);
}

// ===============================
// ğŸ‘¦ ÙŠØ³Ø£Ù„Ùƒ Ø¨ÙƒÙ„ Ù…Ø±Ø­Ù„Ø©
// ===============================
const oldAiTalk = aiTalk;
aiTalk = function(){
  oldAiTalk();
  creepyTalk();
};

// ===============================
// ğŸ˜ˆ Ø§Ù„ÙˆÙ„Ø¯ ÙŠØµÙŠØ± Ø£Ø®Ø·Ø± Ù…Ø¹ Ø§Ù„ØªÙ‚Ø¯Ù…
// ===============================
setInterval(()=>{
  if(stage > 10){
    boy.innerText = "ğŸ˜ˆ";
  }
  if(stage > 30){
    boy.style.fontSize = "80px";
  }
  if(stage > 60){
    boy.style.filter = "drop-shadow(0 0 25px crimson)";
  }
}, 3000);
</script>
</body>
</html>
