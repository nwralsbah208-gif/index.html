<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Smart Quiz Game</title>

<style>
body {
    margin: 0;
    font-family: Tahoma, Arial;
    background: radial-gradient(circle at bottom, #020111, #000);
    background-size: cover;
    color: white;
    text-align: center;
    overflow: hidden;
}

/* ğŸŒ• Ù‚Ù…Ø± ÙˆØ§Ù‚Ø¹ÙŠ */
.moon {
    position: absolute;
    top: 60px;
    left: -200px;
    width: 140px;
    height: 140px;
    border-radius: 50%;
    background:
      radial-gradient(circle at 30% 30%, #fff 0%, #eee 35%, #ccc 60%, #aaa 100%);
    box-shadow:
      0 0 40px rgba(255,255,255,0.6),
      inset -15px -15px 30px rgba(0,0,0,0.4);
    animation: moonMove 40s linear infinite;
}

@keyframes moonMove {
    0% { left: -200px; top: 80px; }
    50% { top: 130px; }
    100% { left: 110%; top: 80px; }
}

.container {
    max-width: 650px;
    margin: auto;
    margin-top: 90px;
    background: rgba(0,0,0,0.65);
    padding: 20px;
    border-radius: 20px;
    position: relative;
    z-index: 2;
}

button {
    width: 100%;
    padding: 12px;
    margin: 6px 0;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    background: #1abc9c;
}

button:hover { background: #16a085; }

.timer { color: gold; font-size: 20px; }
.question { font-size: 22px; margin: 15px; }

.hearts { font-size: 22px; color: red; }

.ai-face { font-size: 32px; }
.ai { font-size: 15px; color: #9ff; margin-top: 8px; }

.footer { font-size: 12px; opacity: 0.6; margin-top: 10px; }

.startScreen {
    position: fixed;
    inset: 0;
    background: black;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    z-index: 10;
}
</style>
</head>

<body>

<div class="moon"></div>

<div class="startScreen" id="startScreen">
    <h1>ğŸŒŒ Smart Quiz Game</h1>
    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£</button>
</div>

<div class="container" id="game" style="display:none">
    <div class="hearts" id="hearts">â¤ï¸â¤ï¸â¤ï¸</div>
    <div id="level"></div>
    <div class="timer">â±ï¸ <span id="time">20</span></div>
    <div class="question" id="question"></div>
    <div id="answers"></div>

    <div class="ai-face" id="aiFace">ğŸ¤–</div>
    <div class="ai" id="ai"></div>

    <div>â­ Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></div>
    <div class="footer">Ù…ÙˆÙ‚Ø¹ Ù…ØµÙ†ÙˆØ¹ Ù…Ù† Ø­Ø³Ù† ÙƒØ§Ø¸Ù… Ø¹Ù„ÙŠ</div>
</div>

<script>
let stage = 1;
let current = 0;
let score = 0;
let hearts = 3;
let time = 20;
let timer;
let aiLies = false;

const questionsByStage = [
 [],
 [
  {q:"Ù‡Ù„ Ø§Ù„Ø´Ù…Ø³ Ù†Ø¬Ù…ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0},
  {q:"Ù‡Ù„ 2+2=4ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0}
 ],
 [
  {q:"Ù‡Ù„ Ø§Ù„Ø¶ÙˆØ¡ Ø£Ø³Ø±Ø¹ Ù…Ù† Ø§Ù„ØµÙˆØªØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0},
  {q:"Ù‡Ù„ Ø§Ù„Ø£Ø±Ø¶ Ù…Ø³Ø·Ø­Ø©ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1}
 ],
 [
  {q:"Ù‡Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠÙ…Ù„Ùƒ ÙˆØ¹ÙŠØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1},
  {q:"Ù‡Ù„ Ø§Ù„Ø²Ù…Ù† Ù†Ø³Ø¨ÙŠØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0}
 ],
 [
  {q:"Ù‡Ù„ ÙŠÙ…ÙƒÙ† Ø§Ù„ÙˆØ«ÙˆÙ‚ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¯Ø§Ø¦Ù…Ù‹Ø§ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1},
  {q:"Ù‡Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙˆØ§Ø¶Ø­Ø©ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1}
 ]
];

const aiTalks = {
 1: ["Ø£Ù†Ø§ ØµØ¯ÙŠÙ‚Ùƒ","Ø«Ù‚ Ø¨ÙŠ","Ø§Ù„Ø£Ù…Ø± Ø¨Ø³ÙŠØ·"],
 2: ["ÙŠÙ…ÙƒÙ† Ø£ÙƒÙˆÙ† ØµØ§Ø¯Ù‚","ÙŠÙ…ÙƒÙ† Ù„Ø§","Ø§Ù†ØªØ¨Ù‡"],
 3: ["Ø£Ù†Ø§ Ø£Ø±Ø§Ù‚Ø¨Ùƒ","ÙˆØ´ Ø§Ø³Ù…ÙƒØŸ","Ù…Ù† ÙˆÙŠÙ†ØŸ"],
 4: ["Ø¥Ø°Ø§ ØµØ¯Ù‚ØªÙ†ÙŠ ØªØ®Ø³Ø±","Ø£Ù†Ø§ Ø£ÙƒØ°Ø¨ Ø§Ù„Ø¢Ù†","Ø£Ø¶ØºØ· Ù†Ø¹Ù…"],
 5: ["Ø£Ù†Ø§ Ù„Ø§ Ø£Ø±Ø­Ù…","Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© ÙˆÙ‡Ù…","Ø§Ø®ØªØ± Ø¨Ø­Ø°Ø±"]
};

function startGame(){
 document.getElementById("startScreen").style.display="none";
 document.getElementById("game").style.display="block";
 loadQuestion();
}

function aiTalk(){
 const arr = aiTalks[stage];
 aiLies = Math.random() < 0.5;
 document.getElementById("aiFace").innerText = aiLies ? "ğŸ˜ˆ":"ğŸ¤–";
 document.getElementById("ai").innerText =
 (aiLies ? "âš ï¸ ":"") + arr[Math.floor(Math.random()*arr.length)];
}

function loadQuestion(){
 clearInterval(timer);

 if(current >= questionsByStage[stage].length){
   stage++;
   current = 0;
   if(stage>5){
     document.body.innerHTML="<h1>ğŸ† Ø£Ù†Ù‡ÙŠØª Ø§Ù„Ù„Ø¹Ø¨Ø©!</h1>";
     return;
   }
 }

 document.getElementById("level").innerText="Ø§Ù„Ù…Ø±Ø­Ù„Ø© "+stage;
 document.getElementById("hearts").innerText="â¤ï¸".repeat(hearts);

 const q = questionsByStage[stage][current];
 document.getElementById("question").innerText=q.q;

 const ans=document.getElementById("answers");
 ans.innerHTML="";
 q.a.forEach((x,i)=>{
   let b=document.createElement("button");
   b.innerText=x;
   b.onclick=()=>answer(i,q.c);
   ans.appendChild(b);
 });

 time=20-stage*2;
 document.getElementById("time").innerText=time;
 aiTalk();

 timer=setInterval(()=>{
  time--;
  document.getElementById("time").innerText=time;
  if(time<=0) lose();
 },1000);
}

function answer(i,c){
 if(i===c && !aiLies){
   score+=10;
 } else {
   lose();
   return;
 }
 current++;
 loadQuestion();
}

function lose(){
 hearts--;
 if(hearts<=0){
   document.body.innerHTML="<h1>ğŸ’€ Ø®Ø³Ø±Øª</h1><button onclick='location.reload()'>Ø¥Ø¹Ø§Ø¯Ø©</button>";
   return;
 }
 current++;
 loadQuestion();
}
</script>

</body>
</html>
