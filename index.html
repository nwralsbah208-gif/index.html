<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Smart Quiz Game</title>

<style>
body {
    margin: 0;
    font-family: Tahoma, Arial;
    background: linear-gradient(270deg, #0f2027, #203a43, #2c5364);
    background-size: 600% 600%;
    animation: bgMove 15s ease infinite;
    color: white;
    text-align: center;
    overflow: hidden;
}

@keyframes bgMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ğŸŒ™ Ø§Ù„Ù‚Ù…Ø± */
.moon {
    position: absolute;
    top: 50px;
    left: -120px;
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, #fff, #ddd);
    border-radius: 50%;
    animation: moonMove 30s linear infinite;
    opacity: 0.8;
}

@keyframes moonMove {
    0% { left: -120px; top: 60px; }
    50% { top: 120px; }
    100% { left: 110%; top: 60px; }
}

.container {
    max-width: 600px;
    margin: auto;
    margin-top: 80px;
    background: rgba(0,0,0,0.55);
    padding: 20px;
    border-radius: 15px;
    position: relative;
    z-index: 2;
}

.level { font-size: 18px; }
.timer { font-size: 20px; color: #ffd700; margin: 10px; }
.question { font-size: 22px; margin: 20px 0; }

button {
    display: block;
    width: 100%;
    margin: 8px 0;
    padding: 12px;
    font-size: 18px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    background: #1abc9c;
}

button:hover { background: #16a085; }

.score { margin-top: 10px; }

.ai {
    margin-top: 15px;
    font-size: 15px;
    color: #aef;
}

.ai-face {
    font-size: 30px;
    margin-bottom: 5px;
}

.hearts {
    font-size: 22px;
    margin: 10px;
    color: red;
}

.progress {
    height: 6px;
    background: rgba(255,255,255,0.2);
    border-radius: 10px;
    overflow: hidden;
    margin: 10px 0;
}

.progress-bar {
    height: 100%;
    width: 0%;
    background: #1abc9c;
    transition: width 0.4s;
}

.shake {
    animation: shake 0.4s;
}

@keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-5px); }
    50% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
    100% { transform: translateX(0); }
}

.footer {
    margin-top: 20px;
    font-size: 12px;
    opacity: 0.7;
}
</style>
</head>

<body>

<div class="moon"></div>

<audio id="loseSound">
  <source src="https://www.soundjay.com/buttons/sounds/button-10.mp3">
</audio>

<div class="container" id="game">
    <h1>ğŸ® Smart Quiz Game</h1>

    <div class="hearts" id="hearts">â¤ï¸â¤ï¸â¤ï¸</div>

    <div class="progress">
        <div class="progress-bar" id="progress"></div>
    </div>

    <div class="level" id="level"></div>
    <div class="timer">â±ï¸ <span id="time">20</span></div>

    <div class="question" id="question"></div>
    <div id="answers"></div>

    <div class="ai-face" id="aiFace">ğŸ¤–</div>
    <div class="ai" id="ai"></div>

    <div class="score">â­ Ø§Ù„Ù†Ù‚Ø§Ø·: <span id="score">0</span></div>
    <div class="footer">Ù…ÙˆÙ‚Ø¹ Ù…ØµÙ†ÙˆØ¹ Ù…Ù† Ø­Ø³Ù† ÙƒØ§Ø¸Ù… Ø¹Ù„ÙŠ</div>
</div>

<script>
const levels = [
 {name:"Ø³Ù‡Ù„ Ø¬Ø¯Ù‹Ø§",points:10},
 {name:"Ø³Ù‡Ù„",points:20},
 {name:"Ù…ØªÙˆØ³Ø·",points:30},
 {name:"ØµØ¹Ø¨",points:40},
 {name:"Ø®Ø¨ÙŠØ±",points:50}
];

let questions = [
 {q:"Ù‡Ù„ Ø§Ù„Ø´Ù…Ø³ Ù†Ø¬Ù…ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0},
 {q:"Ù‡Ù„ Ø§Ù„Ù‚Ù…Ø± ÙƒÙˆÙƒØ¨ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1},
 {q:"Ù‡Ù„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠÙÙƒØ±ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0},
 {q:"Ù‡Ù„ 5Ã—5 = 30ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:1},
 {q:"Ù‡Ù„ Ø§Ù„Ø¶ÙˆØ¡ Ø£Ø³Ø±Ø¹ Ù…Ù† Ø§Ù„ØµÙˆØªØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0},
 {q:"Ù‡Ù„ Ø§Ù„Ø£Ø±Ø¶ ØªØ¯ÙˆØ± Ø­ÙˆÙ„ Ø§Ù„Ø´Ù…Ø³ØŸ",a:["Ù†Ø¹Ù…","Ù„Ø§"],c:0}
];

questions.sort(() => Math.random() - 0.5);

let current = 0;
let score = 0;
let time = 20;
let timer;
let hearts = 3;

const aiData = [
 {face:"ğŸ˜‡", text:["Ø£Ù†Ø§ ÙˆØ§Ø«Ù‚ Ù…Ù†Ùƒ","Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ÙˆØ§Ø¶Ø­Ø©"]},
 {face:"ğŸ¤–", text:["Ø­Ù„Ù‘Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„","ÙÙƒÙ‘Ø± Ø¨Ù‡Ø¯ÙˆØ¡"]},
 {face:"ğŸ˜ˆ", text:["ÙŠÙ…ÙƒÙ† Ø£ÙƒØ°Ø¨ ğŸ˜","Ø¬Ø±Ø¨ Ø­Ø¸Ùƒ"]},
 {face:"ğŸ§ ", text:["Ø±ÙƒÙ‘Ø² Ø¨Ø§Ù„ØªÙØ§ØµÙŠÙ„","Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø°ÙƒÙŠØ©"]}
];

function aiTalk() {
 const ai = aiData[Math.floor(Math.random()*aiData.length)];
 document.getElementById("aiFace").innerText = ai.face;
 document.getElementById("ai").innerText =
 "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ: " + ai.text[Math.floor(Math.random()*ai.text.length)];
}

function updateHearts() {
 document.getElementById("hearts").innerText = "â¤ï¸".repeat(hearts);
}

function loadQuestion() {
 clearInterval(timer);

 if (current >= questions.length) {
  document.body.innerHTML = `<div class="container">
  <h1>ğŸ† Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</h1>
  <p>Ù†Ù‚Ø§Ø·Ùƒ: ${score}</p>
  </div>`;
  return;
 }

 let lvl = Math.min(Math.floor(current/2), levels.length-1);
 document.getElementById("level").innerText = "Ø§Ù„Ù…Ø³ØªÙˆÙ‰: " + levels[lvl].name;
 document.getElementById("question").innerText = questions[current].q;

 document.getElementById("progress").style.width =
 ((current / questions.length) * 100) + "%";

 const ansDiv = document.getElementById("answers");
 ansDiv.innerHTML = "";

 questions[current].a.forEach((x,i)=>{
  let b=document.createElement("button");
  b.innerText=x;
  b.onclick=()=>answer(i,lvl);
  ansDiv.appendChild(b);
 });

 time = 20;
 document.getElementById("time").innerText=time;
 aiTalk();

 timer=setInterval(()=>{
  time--;
  document.getElementById("time").innerText=time;
  if(time<=0){
   loseLife();
  }
 },1000);
}

function loseLife() {
 document.getElementById("loseSound").play();
 hearts--;
 updateHearts();
 document.getElementById("game").classList.add("shake");
 setTimeout(()=>document.getElementById("game").classList.remove("shake"),400);

 if (hearts <= 0) {
  document.body.innerHTML = `<div class="container">
  <h1>ğŸ’€ Ø®Ø³Ø±Øª</h1>
  <p>Ù†Ù‚Ø§Ø·Ùƒ: ${score}</p>
  <button onclick="location.reload()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
  </div>`;
  return;
 }
 current++;
 loadQuestion();
}

function answer(i,lvl){
 if(i===questions[current].c){
  score+=levels[lvl].points;
  document.getElementById("score").innerText=score;
 } else {
  loseLife();
  return;
 }
 current++;
 loadQuestion();
}

updateHearts();
loadQuestion();
</script>

</body>
</html>
